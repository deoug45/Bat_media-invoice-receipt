/* Responsive fixes so document fits Android viewport without horizontal scrolling,
   improved hamburger overlay behaviour, table responsiveness and safe paddings. */

:root{
  --brand:#1fa3d8;
  --accent:#f76c24;
  --muted:#666;
  --paper-bg:#fff;
  --mobile-break:700px;
  --shadow: 0 8px 28px rgba(0,0,0,0.08);
  --radius:12px;
  --page-padding:12px;
}

/* Prevent horizontal scrolling on all devices */
html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden; /* critical to prevent side-scroll */
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: rgba(0,0,0,0);
}

/* Basic layout adjustments */
* { box-sizing: border-box; }
body { font-family: Inter, Arial, Helvetica, sans-serif; background: #f4f7fb; color: #222; -webkit-font-smoothing: antialiased; }

/* Topbar unchanged */
.topbar {
  height:56px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:8px 14px;
  background: linear-gradient(180deg,#fff,#fbfdff);
  box-shadow: var(--shadow);
  position:sticky; top:0; z-index:100;
}

/* Editor panel: as overlay on mobile (fixed), on desktop remains sidebar but won't force horizontal scroll */
.editor-panel {
  background: #fff;
  border-radius: var(--radius);
  padding: 12px;
  box-shadow: var(--shadow);
  transition: transform .28s ease, opacity .28s ease;
  z-index: 220;
}

/* Mobile-specific: slide-in menu that overlays preview, doesn't change layout width */
@media (max-width: var(--mobile-break)) {
  .editor-panel {
    position: fixed;
    left: 0;
    top: 56px;
    right: 0;
    bottom: 0;
    width: 100%;
    height: calc(100vh - 56px);
    transform: translateY(-120%);
    border-radius: 0;
    overflow:auto;
    -webkit-overflow-scrolling: touch;
  }
  .editor-panel.open {
    transform: translateY(0);
    opacity: 1;
  }

  /* Overlay used to close menu - ensure pointer-events enabled when visible */
  .overlay {
    position: fixed;
    left: 0; top: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.45);
    z-index: 210;
    opacity: 0;
    visibility: hidden;
    transition: opacity .18s ease;
    pointer-events: none;
  }
  .overlay.show {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
  }
}

/* Preview area: ensure it can't overflow horizontally and fits viewport */
.preview-area {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: var(--page-padding);
  overflow: hidden; /* prevents preview from causing horizontal scroll */
}

/* Make preview wrapper use full viewport width (minus padding) */
.preview-wrapper {
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  padding: 0;
}

/* Document card must adapt to viewport: full width with internal padding */
.document {
  width: 100%;
  max-width: 100%;
  margin: 0 auto 18px auto;
  box-sizing: border-box;
  padding: 14px;
  border-radius: 10px;
  background: var(--paper-bg);
  overflow: visible;
}

/* Table responsiveness:
   - Use table-layout: fixed and allow description to wrap
   - Keep numeric columns aligned right and reduce font on small screens
*/
.table-card { width: 100%; overflow: hidden; border-radius: 10px; }
.items {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed; /* make columns share width, avoid overflow */
  word-break: break-word;
}
.items thead th { padding: 10px; font-weight:700; color:#fff; background: var(--brand); text-align:left; }
.items td, .items th { padding: 8px; border-bottom: 1px solid #eee; font-size: 13px; vertical-align: middle; }
.items td:first-child { word-break: break-word; white-space: normal; } /* description wraps */
.items td.number { text-align: right; white-space: nowrap; font-variant-numeric: tabular-nums; }

/* Reduce padding + font-size on narrow screens to keep table fit */
@media (max-width: 520px) {
  .items td, .items th { padding: 6px; font-size: 12px; }
  .company-name { font-size: 16px; }
  .logo-img, .sig-img { height: 44px; }
  .qr { width: 84px; height: 84px; }
  .doc-footer { gap: 8px; }
}

/* Prevent any image from enlarging beyond container width */
img { max-width: 100%; height: auto; display: block; }

/* Keep footer centered QR & text and left-aligned signature/logo without overflow */
.doc-footer { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-top:14px; }
.footer-center { flex: 1; display:flex; flex-direction:column; align-items:center; }

/* Amount in words: bold + italic */
.words-text { font-weight:700; font-style:italic; }

/* Buttons / animations remain same; ensure burger has high z-index */
.burger { z-index: 260; }

/* Utility: keep content from causing page horizontal scroll */
.container, .app, main, .preview-wrapper, .document { min-width: 0; }

/* Accessibility: ensure focus outlines visible */
:focus { outline: 3px solid rgba(31, 148, 255, 0.25); outline-offset: 2px; }